<div class="surface-section border-round px-4 py-5 md:px-6 lg:px-8 mb-4">
  <ul class="list-none p-0 m-0 flex items-center font-medium">
    <li>
      <a class="text-500 no-underline cursor-pointer" [routerLink]="['/']" style="font-size: 1.3em;">
        <i class="fa-solid fa-house" style="font-size: 1.3em; padding-right: 3px;"></i>
        Application
      </a>
    </li>
    <li class="px-2" style="font-size: 1.5em;">
      <i class="pi pi-angle-right text-500 line-height-3" style="font-size: 1.1em;"></i>
    </li>
    <li>
      <a [routerLink]="['/employee/session']"><span class="text-blue-400" style="font-size: 1.3em;">Mes Conges</span></a>
    </li>
  </ul>
  <div class="flex align-items-start flex-column lg:justify-content-between lg:flex-row">
  <div class="greeting mt-4">
    <span class="text-500 font-normal">{{ hello }}</span>
    <span class="text-red-600 font-bold text-xl px-2">{{ username }}</span>
    <span class="text-500 font-normal"> j'espère que vous êtes bien, Cette page présente des analyses de vos conges.</span>
  </div>
  <div class="mt-3 lg:mt-0">
    <a [routerLink]="['/conges/demande']">
      <button pButton pRipple label="Demande Conge" class="p-button-outlined mr-2 hover-scale" icon="pi pi-user-plus"></button>
    </a>
  </div>
  </div>
</div>
<div class="grid">
  <div class="col-12 lg:col-6 xl:col-3">
    <div class="card mb-0">
      <div class="flex justify-content-between mb-3">
        <div>
          <span class="block text-500 font-medium mb-3">Number Of Conges</span>
          <div class="text-900 font-medium text-xl">{{congesCount }} </div>
        </div>
        <div class="flex align-items-center justify-content-center bg-orange-100 border-round"
          [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
          <a [routerLink]="['/employee/list']" class="dashboard-nav-item">
            <i class="pi pi-user text-blue-500 text-xl" style="cursor: pointer;"></i>
          </a>
        </div>
      </div>
      <span class="text-green-500 font-medium"> {{congesCount }} &nbsp; </span>
      <span class="text-400 font-medium">Is Your Total Conges Number<span class="text-red-500 font-bold">data</span>
      </span>
    </div>
  </div>

  <div class="col-12 lg:col-6 xl:col-3">
    <div class="card mb-0">
      <div class="flex justify-content-between mb-3">
        <div>
          <span class="block text-500 font-medium mb-3">Average Duration of Conges</span>
          <div class="text-900 font-medium text-xl">{{ averageDuration.toFixed(2) }}</div>
        </div>
        <div class="flex align-items-center justify-content-center bg-orange-100 border-round"
          [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
          <a [routerLink]="['/employee/list']" class="dashboard-nav-item">
            <i class="pi pi-user text-blue-500 text-xl" style="cursor: pointer;"></i>
          </a>
        </div>
      </div>
      <span class="text-green-500 font-medium"> {{ averageDuration.toFixed(2) }} Days &nbsp; </span>
      <span class="text-400 font-medium">iS your average conge duration </span>
    </div>
  </div>
  <div class="col-12 lg:col-6 xl:col-3">
    <div class="card mb-0">
      <div class="flex justify-content-between mb-3">
        <div>
          <span class="block text-500 font-medium mb-3">Pending Conges </span>
          <div class="text-900 font-medium text-xl">{{ pendingCongesCount }}</div>
        </div>
        <div class="flex align-items-center justify-content-center bg-orange-100 border-round"
          [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
          <a [routerLink]="['/employee/list']" class="dashboard-nav-item">
            <i class="pi pi-user text-blue-500 text-xl" style="cursor: pointer;"></i>
          </a>
        </div>
      </div>
      <span class="text-green-500 font-medium"> {{ pendingCongesCount }} &nbsp; </span>
      <span class="text-400 font-medium">iS the number of your </span><span class="text-red-500 font-bold">Pendings
      </span>
    </div>
  </div>
  <div class="col-12 lg:col-6 xl:col-3">
    <div class="card mb-0">
      <div class="flex justify-content-between mb-3">
        <div>
          <span class="block text-500 font-medium mb-3">Accepted </span>
          <div class="text-900 font-medium text-xl">{{ acceptedCongesCount }}</div>
        </div>
        <div class="flex align-items-center justify-content-center bg-orange-100 border-round"
          [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
          <a [routerLink]="['/employee/list']" class="dashboard-nav-item">
            <i class="pi pi-user text-blue-500 text-xl" style="cursor: pointer;"></i>
          </a>
        </div>
      </div>
      <span class="text-green-500 font-medium"> {{ acceptedCongesCount }} &nbsp; </span>
      <span class="text-400 font-medium">iS the number of your </span><span class="text-red-500 font-bold">Acceptings
      </span>
    </div>
  </div>

  <div class="col-12 lg:col-6 xl:col-6">
    <div class="card">
      <p-table #dt1 [value]="conges" dataKey="congeId" [rows]="5" [loading]="loading" [rowHover]="true"
        styleClass="p-datatable-gridlines" [paginator]="true" [globalFilterFields]="['startDate', 'endDate', 'state']"
        responsiveLayout="scroll">
        <ng-template pTemplate="caption">
          <div class="flex justify-content-between flex-column sm:flex-row">
            <button pButton label="Clear" class="p-button-outlined mb-2" icon="pi pi-filter-slash"></button>
            <span class="p-input-icon-left mb-2">
              <i class="pi pi-search"></i>
              <input pInputText type="text" #filter (input)="onGlobalFilter(dt1, $event)" placeholder="Search Keyword"
                class="w-full" />
            </span>
          </div>
        </ng-template>
        <ng-template pTemplate="header">
          <tr>
            <th style="min-width: 12rem">
              <div class="flex justify-content-between align-items-center">
                Start Date
                <p-columnFilter type="date" field="startDate" display="menu" placeholder="mm/dd/yyyy"></p-columnFilter>
              </div>
            </th>
            <th style="min-width: 12rem">
              <div class="flex justify-content-between align-items-center">
                End Date
                <p-columnFilter type="date" field="endDate" display="menu" placeholder="mm/dd/yyyy"></p-columnFilter>
              </div>
            </th>
            <th style="min-width: 14rem">
              <div class="flex justify-content-between align-items-center">
                State
                <p-columnFilter field="state" matchMode="equals" display="menu">
                  <!-- <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                                    <p-dropdown [ngModel]="value" [options]="states" (onChange)="filter($event.value)" placeholder="Any" [style]="{'min-width': '12rem'}" >
                                    </p-dropdown>
                                </ng-template> -->
                </p-columnFilter>
              </div>
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-conge>
          <tr>
            <td>
              {{ conge.startDate | date: 'MM/dd/yyyy' }}
            </td>
            <td>
              {{ conge.endDate | date: 'MM/dd/yyyy' }}
            </td>
            <td>
              <span
                [ngClass]="{'state-badge': true, 'state-accepted': conge.state === 'Accepted', 'state-rejected': conge.state === 'Rejeté', 'state-pending': conge.state === 'En attente'}">{{
                conge.state }}</span>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="3">No conges found.</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="loadingbody">
          <tr>
            <td colspan="3">Loading conges data. Please wait.</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="8">No customers found.</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="loadingbody">
          <tr>
            <td colspan="8">Loading customers data. Please wait.</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
  <div class="col-12 lg:col-6 xl:col-6">
    <div class="card">
      <!-- <div><span class="text-black-400 font-medium">Conges Distribution By Year and Month</span></div> -->
      <p-chart type="line" [data]="data" [options]="options" />
    </div>
  </div>

  <div class="col-12 md:col-12">
    <div class="card">
      <h5>conge Policy </h5>
      <p-panel header="Header" [toggleable]="true" class="line-height-3 m-0">
        At Createch, we value the well-being and work-life balance of our employees. As part of our commitment to
        fostering a healthy and productive work environment, Createch offers a comprehensive conge policy designed to
        provide ample time for rest, relaxation, and personal pursuits. Employees are entitled to 25 days of paid conge
        annually, which can be utilized for vacation, personal time, or family commitments. Additionally, we observe 10
        public holidays throughout the year, during which the office will remain closed. To ensure smooth operations,
        employees are encouraged to submit their conge requests at least 30 days in advance. Unused conge days can be
        carried forward to the next year, up to a maximum of 10 days. In cases of extended leave for medical reasons,
        employees may apply for additional conge under our sick leave policy. At Createch, we believe that taking time
        off is essential for maintaining a motivated and engaged workforce, and we are committed to supporting our
        employees in achieving a healthy work-life balance.
      </p-panel>
    </div>
  </div>

</div>